<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Buscar juguetes ‚Äì MejoresJuguetes.com</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Busca juguetes educativos, Montessori, STEM y creativos.">
  <link rel="stylesheet" href="css/estilos.css">
</head>

<body>

<header class="header">
  <div class="container header-flex">
    <div class="logo-box">
      <img src="img/hero.png" alt="Logo MejoresJuguetes" class="logo-img">
      <span class="logo-text">MejoresJuguetes.com</span>
    </div>

    <nav class="menu">
      <a href="index.html">Inicio</a>
      <a href="juguetes.html">Juguetes</a>
      <a href="rankings.html">Rankings</a>
      <a href="blog.html">Blog</a>
      <a href="contacto.html">Contacto</a>
    </nav>

    <div class="search-box">
      <form action="buscar.html" method="GET">
        <input type="text" name="q" placeholder="Buscar juguetes..." required>
        <button type="submit">üîç</button>
      </form>
    </div>
  </div>
</header>

<section class="hero" style="background-image: url('img/hero.png');">
  <div class="container hero-overlay">
    <h2 id="titulo-busqueda">Resultados de b√∫squeda</h2>
    <p>Encuentra los mejores juguetes analizados para 2025.</p>
  </div>
</section>

<main class="container">
  <section class="section">
    <div id="resultados" class="grid">
      </div>
  </section>
</main>

<footer class="footer">
  <div class="container">
    <p>¬© 2025 MejoresJuguetes.com ‚Äì Todos los derechos reservados</p>
  </div>
</footer>

<script>
  /* ‚úÖ LISTADO DE DATOS PARA EL BUSCADOR (He incluido tus juguetes de los rankings) */
  const juguetesDB = [
    { id: 1, nombre: "PlayStation 5 Slim 1TB", tipo: "Consola", marca: "Sony", imagen: "https://m.media-amazon.com/images/I/41yRAPi7UOL._AC_SX679_.jpg", valoracion: "4.9", link: "https://amzn.to/4az2tfX" },
    { id: 2, nombre: "Nintendo Switch OLED", tipo: "Consola", marca: "Nintendo", imagen: "https://m.media-amazon.com/images/I/71n+F6bHXGL._AC_SX522_.jpg", valoracion: "4.9", link: "https://amzn.to/4apcnk4" },
    { id: 3, nombre: "Rumi, Zoey y Mira - Figuras", tipo: "Mu√±ecas", marca: "Vajafun", imagen: "https://m.media-amazon.com/images/I/61i2HF5Y9qL._AC_SX679_.jpg", valoracion: "4.9", link: "https://www.amazon.es/dp/B0DF78N9S2?tag=librarium21-21" },
    { id: 4, nombre: "L.O.L. Surprise! OMG", tipo: "Mu√±ecas", marca: "MGA", imagen: "https://m.media-amazon.com/images/I/81lKZatTwbL._AC_SX679_.jpg", valoracion: "4.8", link: "https://amzn.to/4jtxkNr" },
    { id: 5, nombre: "Rodzon Coche Teledirigido", tipo: "Radiocontrol", marca: "Rodzon", imagen: "https://m.media-amazon.com/images/I/71L4mnzFijL._AC_SX679_.jpg", valoracion: "4.9", link: "https://amzn.to/4apdgsU" },
    { id: 6, nombre: "Furby Interactivo 2025", tipo: "Peluche", marca: "Hasbro", imagen: "https://m.media-amazon.com/images/I/71adfhnOF+L._AC_SX679_.jpg", valoracion: "4.8", link: "https://amzn.to/48Rm75y" }
  ];

  function cardResultado(j) {
    // ‚úÖ Aseguramos que el link siempre lleve tu referido si es enlace directo
    const finalLink = j.link.includes('?') ? `${j.link}&tag=librarium21-21` : `${j.link}?tag=librarium21-21`;
    
    return `
      <div class="card">
        <a href="${finalLink}" target="_blank" style="text-decoration:none; color:inherit;">
          <img src="${j.imagen}" alt="${j.nombre}" style="width:100%; height:200px; object-fit:contain; background:#fff; padding:10px; border-radius:10px;">
          <h3 style="margin:10px 0;">${j.nombre}</h3>
          <p><strong>Marca:</strong> ${j.marca}</p>
          <p><strong>Tipo:</strong> ${j.tipo}</p>
          <p>‚≠ê ${j.valoracion}</p>
          <span class="pag-btn" style="display:block; text-align:center; margin-top:10px; font-size:0.9rem;">Ver en Amazon</span>
        </a>
      </div>
    `;
  }

  function cargarBusqueda() {
    const params = new URLSearchParams(window.location.search);
    const q = params.get("q") ? params.get("q").toLowerCase() : "";
    const cont = document.getElementById("resultados");
    const titulo = document.getElementById("titulo-busqueda");

    if (!q) {
      cont.innerHTML = "<p>Por favor, escribe algo en el buscador.</p>";
      return;
    }

    titulo.innerText = `Resultados para: "${q}"`;

    // ‚úÖ Filtramos en nuestra base de datos local
    const resultados = juguetesDB.filter(j => 
      j.nombre.toLowerCase().includes(q) || 
      j.tipo.toLowerCase().includes(q) || 
      j.marca.toLowerCase().includes(q)
    );

    if (resultados.length === 0) {
      cont.innerHTML = `
        <div style="grid-column: 1/-1; text-align:center; padding: 40px 0;">
          <p style="font-size: 1.2rem; margin-bottom: 20px;">No tenemos ese juguete exacto en nuestros rankings, pero puedes buscarlo aqu√≠:</p>
          
          <a href="https://www.amazon.es/s?k=${encodeURIComponent(q)}&tag=librarium21-21" 
             target="_blank" 
             class="pag-btn btn-amarillo" 
             style="display:inline-block; text-decoration:none; padding: 15px 30px; font-size: 1.1rem;">
            üîç Buscar "${q}" en Amazon
          </a>
        </div>`;
      return;
    }

    cont.innerHTML = resultados.map(cardResultado).join("");
  }

  window.onload = cargarBusqueda;
</script>

</body>
</html>
