<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Rese√±as de Juguetes ‚Äì MejoresJuguetes.com</title>
  <meta name="description" content="Rese√±as reales de juguetes educativos, Montessori, STEM y creativos. Opiniones, valoraciones y comparativas.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/estilos.css">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1152236234412271" crossorigin="anonymous"></script>
</head>

<body>

<header class="header">
  <div class="container header-flex">
    <div class="logo-box">
      <span class="logo-icon">üß∏</span>
      <span class="logo-text">MejoresJuguetes.com</span>
    </div>

    <nav class="menu">
      <a href="index.html">Inicio</a>
      <a href="blog.html" class="active">Blog</a>
      <a href="juguetes.html">Juguetes</a>
      <a href="rankings.html">Rankings</a>
      <a href="resenas.html">Rese√±as</a>
      <a href="contacto.html">Contacto</a>
    </nav>

    <div class="search-box">
      <form action="buscar.html" method="GET">
        <input type="text" name="q" placeholder="Buscar juguetes..." required>
        <button type="submit">üîç</button>
      </form>
    </div>
  </div>
</header>

<section class="hero" style="background-image: url('img/hero.png');">
  <div class="container hero-overlay">
    <h2>Rese√±as de expertos</h2>
    <p>An√°lisis detallados de gu√≠as de juego y materiales educativos para padres exigentes.</p>
  </div>
</section>

<main class="container">
  <section class="section">
    <h2>An√°lisis y Gu√≠as Destacadas</h2>
    <div id="resenas-destacadas" class="grid">
      </div>
  </section>

  <section class="section">
    <h2>M√°s valoraciones del mercado</h2>
    <div id="resenas" class="grid">
      </div>
  </section>

  <section class="bloque-seo">
    <h2>¬øPor qu√© leer nuestras rese√±as?</h2>
    <p>En <strong>MejoresJuguetes.com</strong> analizamos no solo el juguete, sino su valor pedag√≥gico. Nos basamos en gu√≠as de expertos en desarrollo infantil para recomendarte productos que realmente aporten valor a tus hijos.</p>
  </section>
</main>

<footer class="footer">
  <div class="container">
    <p>¬© 2025 MejoresJuguetes.com ‚Äì Todos los derechos reservados</p>
    <div class="footer-links">
      <a href="privacidad.html">Privacidad</a>
      <a href="cookies.html">Cookies</a>
      <a href="aviso-legal.html">Aviso legal</a>
    </div>
  </div>
</footer>

<script>
  function generarEstrellas(rating) {
    const r = Math.round(Number(rating) || 5);
    return "‚≠ê".repeat(r);
  }

  function crearCardResena(item) {
    const info = item.volumeInfo || {};
    const titulo = info.title || "Gu√≠a de Juguetes";
    const portada = info.imageLinks ? info.imageLinks.thumbnail : 'img/portada-default.png';
    // ‚úÖ Enlace directo a Amazon con tu referido
    const linkAmazon = `https://www.amazon.es/s?k=${encodeURIComponent(titulo)}&tag=librarium21-21`;

    return `
      <div class="card">
        <a href="${linkAmazon}" target="_blank" style="text-decoration:none; color:inherit;">
          <img src="${portada}" alt="${titulo}" style="height:200px; width:100%; object-fit:contain; background:#fff; padding:10px;">
          <h3 style="font-size:1.1rem; margin:10px 0;">${titulo}</h3>
          <p>${generarEstrellas(info.averageRating)}</p>
          <p style="font-size:0.85rem; color:#555;">An√°lisis profundo sobre materiales y seguridad infantil.</p>
          <span class="pag-btn" style="display:block; text-align:center; margin-top:10px; font-size:0.8rem;">Leer opini√≥n completa</span>
        </a>
      </div>
    `;
  }

  async function cargarResenas() {
    // Buscamos libros que funcionen como "Rese√±as" o "Gu√≠as"
    const query = "guia mejores juguetes ni√±os desarrollo";
    const url = `https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(query)}&langRestrict=es&maxResults=8`;
    
    try {
      const res = await fetch(url);
      const data = await res.json();
      
      const destacadas = document.getElementById("resenas-destacadas");
      const normales = document.getElementById("resenas");
      
      destacadas.innerHTML = "";
      normales.innerHTML = "";

      if(data.items) {
        data.items.slice(0, 4).forEach(item => destacadas.innerHTML += crearCardResena(item));
        data.items.slice(4, 8).forEach(item => normales.innerHTML += crearCardResena(item));
      }
    } catch (e) { console.error(e); }
  }

  cargarResenas();
</script>

</body>
</html>
